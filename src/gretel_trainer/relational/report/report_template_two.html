<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Gretel Relational Synthetic Report</title>
  <style>
    {% include "report.css" %}
    {% include "report_synthetic_quality.css" %}
    {% include "report_privacy_protection.css" %}
  </style>
  <script src="https://cdn.plot.ly/plotly-2.18.0.min.js"></script>
</head>

<body>
  <div class="wrapper">

    <div class="section test-report-main-score">
        <div class="header__container">

        <div class="header">
          <h1>Gretel Relational<br />Synthetic Report</h1>
          <span>
            <b>Generation ID</b> {{ presenter.run_identifier }}
            <br/>
            <b>Generated</b> {{presenter.generated_at}}
          </span>
        </div>

        {#
        <div class="score-container mb-1">
            <span class="label label__{{ presenter.synthetic_data_quality_score.grade.lower().replace(' ', '-') }} mb-0.5">
            {{ presenter.synthetic_data_quality_score.grade }}</span>
            <div id="chart" class="score mb-0.5">
                <figure>{{ presenter.synthetic_data_quality_gauge.to_html(config={'displayModeBar': False}, full_html=False, include_plotlyjs=False) }}</figure>
            </div>
            <div>
                <span class="h3">Composite Synthetic Quality Score</span>
            </div>
        </div>

        <div class="score-container mb-1">
            <span class="label label__privacy__{{ presenter.privacy_protection_level.grade.lower().replace(' ', '-') }} mb-0.5">
            {{ presenter.privacy_protection_level.grade }}</span>
            <div id="chart" class="score mb-0.5">
                <figure>{{ presenter.privacy_protection_level_gauge.to_html(config={'displayModeBar': False}, full_html=False, include_plotlyjs=False) }}</figure>
            </div>
            <div>
                <span class="h3">Composite Privacy Protection Level</span>
            </div>
        </div>
        #}

        </div>
    </div>

    <section class="scroll">
      <h2>Table Relationships</h2>

      <p>
        The fields of each table in the synthesized database and their relationships are displayed below.
      </p>

      <table>
          <thead>
            <tr>
                <th>Table name</th>
                <th>Private key</th>
                <th>Foreign keys</th>
            </tr>
          </thead>
          <tbody>
            {% for table_data in presenter.report_table_data %}
            <tr>
              <td><b>{{ table_data.table }}</b></td>
              <td><span>{{ table_data.pk }}</span></td>
              <td>
                {% for fk in table_data.fks %}
                <span>{{ fk.column_name }}</span>&nbsp;
                {% endfor %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    </section>

    <section class="break">
      <h2>Synthetic Data Quality Results</h2>

      <p>For each table, individual and cross-table Gretel Synthetic Reports are generated, which 
        include the Synthetic Data
      Quality Score (SQS). The individual Synthetic Report evaluates the statistical accuracy of the 
      individual synthetic table compared to the real world data that it is
      based on. This provides insight into the accuracy of the synthetic output of the stand-alone
      table. The individual SQS does not take into account statistical correlations of data across 
      related tables. The
      cross-table Synthetic Report evaluates the statistical accuracy of the synthetic data of a 
      table with consideration to the
      correlations between data across related tables. The cross-table SQS provides insight into 
      the accuracy of the
      table in the context of the database as a whole. More information about the Gretel Synthetic 
      Report and Synthetic Data Quality Score is
      available <a href="https://docs.gretel.ai/reference/synthetics/gretel-synthetic-report">here</a>.</p>

      <span class="h3">Synthetic Data Quality Scores</span>

        <p>For each table, individual and cross-table synthetic data quality scores (SQS) are computed and displayed below.</p>

        <table>
          <thead>
            <tr>
              <th scope="row">Table Name</th>
              <th scope="col">Individual Score</th>
              <th scope="col">Cross-table Score</th>
            </tr>
          </thead>
          {% for table, evaluation in presenter.evaluations.items() %}
          <tbody>
            <tr>
              <th scope="row">{{table}}</th>
              <td style="text-align: center">{{evaluation.individual_sqs}}</td>
              <td style="text-align: center">{{evaluation.cross_table_sqs}}</td>
            </tr>
          </tbody>
          {% endfor %}
        </table>

        <p> The Synthetic Data Quality Score is an estimate of how well the generated synthetic 
            data maintains the same statistical properties as the original dataset. In this 
            sense, the Synthetic Data Quality Score can be viewed as a utility score or a 
            confidence score as to whether scientific conclusions drawn from the synthetic 
            dataset would be the same if one were to have used the original dataset instead. 
            If you do not require statistical symmetry, as might be the case in a testing or 
            demo environment, a lower score may be just as acceptable.</p>
        <p> If your Synthetic Data Quality Score isn't as high as you'd like it to be, 
            read <a href="https://docs.gretel.ai/reference/synthetics/tips-improve-synthetic-data-accuracy">here</a> 
            for a multitude of ideas for improving your model.</p>

    </section>

    <footer>
      <p>
        Copyright Â© {{ presenter.copyright_year }} Gretel Labs, Inc. All rights reserved.
      </p>
    </footer>

    </div>
</body>
</html>
